# 020: 方面ラベルを「左/正面/右」の選択式UIに変更し、ラベル列幅を拡大する

## 種別
UI改善

## 統合
本チケットは旧009（方面ラベル列の幅拡大）を統合している。方面ラベルの表示とUIを同時に変更するため、ラベル列幅もここで調整する。

## 問題
1. 現在の方面ラベルはクリックで自由入力テキスト編集だが、実際のゲームでの方面は「左」「正面」「右」の3択が基本。自由入力は不便。
2. `DIRECTION_LABEL_WIDTH = 32px` ではデフォルト名「方面1」すら収まらず「方…」と省略表示される。

## 参考
旧プロジェクト `grill-planner_old/src/components/Timeline/DirectionSelector.tsx` に選択式UIの実装例がある。以下の要素を踏襲する:

1. **クリックで編集モードに切り替わる**（現在と同じ）
2. **編集モードでは選択ボタン + テキスト入力が横並びで表示される**:
   - 「左」「正面」「右」のプリセットボタン（ワンクリックで確定）
   - テキスト入力フィールド（自由入力も可能）
3. **他の区間で既に使われている方面名がプリセットボタンとして表示される**
4. **Enter で確定、Escape でキャンセル、blur で確定**

## 修正箇所
- `src/components/Timeline/coordinates.ts` — `DIRECTION_LABEL_WIDTH` を 56px 程度に拡大
- `src/components/Timeline/DirectionLabels.tsx` — DirectionLabel コンポーネントの編集UI全面改修

## 修正内容

### ラベル列幅の拡大
`DIRECTION_LABEL_WIDTH` を 56px 程度に変更する。「左」「正面」「右」が省略されず表示でき、かつ画面幅を圧迫しない値を選ぶこと。

### 非編集時（通常表示）
- 従来通り方面名をテキスト表示
- クリックで編集モードに入る

### 編集時
区間の右側（レーン上、または方面ラベル列を一時的に拡張した領域）にポップオーバーを表示:

```
┌──────────────────────────────┐
│ [左] [正面] [右] [__入力__]   │
└──────────────────────────────┘
```

- 「左」「正面」「右」は固定のプリセットボタン
- 他の区間で既に使われている名前がある場合、追加のプリセットボタンとして表示
- テキスト入力欄は自由入力用（Enter で確定）
- プリセットボタンをクリックすると即座に確定して編集モード終了
- Escape でキャンセル
- 外側クリック（blur）で確定

### ポップオーバーの位置
方面ラベル列は幅が狭いため、ポップオーバーは方面ラベルの右側に展開する形が望ましい。z-index を高くしてレーンの上に重なってもよい。

## 完了条件
- デフォルト方面名（「左」「正面」「右」等）が省略されず完全に表示されること
- 方面ラベルをクリックすると「左」「正面」「右」のボタンとテキスト入力が表示されること
- ボタンをクリックするとその方面名が設定されて編集モード終了すること
- テキスト入力で自由な名前も設定可能なこと
- Enter/Escape/blur の挙動が正しいこと
